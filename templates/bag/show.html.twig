{% extends 'base.html.twig' %}

{% block title %}{{ bag.name }}{% endblock %}

{% block body %}
<div class="show-container">
    <div class="show-content">
        <div class="show-header">
            <h1>{{ bag.name }}</h1>
        </div>

        <div class="show-layout">
            <div class="show-image-section">
                {% if bag.img %}
                    <img src="{{ asset('upload/bag/' ~ bag.img) }}" alt="{{ bag.name }}" class="bag-image-show">
                {% else %}
                    <div class="no-image">Aucune image</div>
                {% endif %}
            </div>

            <div class="show-info-section">
                <h2>Détails du sac</h2>
                
                <div class="show-details">
                    <p><strong>Propriétaire:</strong> {{ bag.owner.name }}</p>
                    <p><strong>Type:</strong> {{ bag.type.name }}</p>
                    <p><strong>État:</strong> {{ bag.bagCondition.name }}</p>
                    <p><strong>Statut:</strong> {{ bag.status.name }}</p>
                    {% if bag.borrower %}
                        <p><strong>Emprunteur:</strong> {{ bag.borrower.name }}</p>
                    {% endif %}
                    <p><strong>Créé le:</strong> {{ bag.createdAt|date('d/m/Y à H:i') }}</p>
                </div>

                {% if bag.description %}
                    <div class="show-description">
                        <h3>Description</h3>
                        <p>{{ bag.description }}</p>
                    </div>
                {% endif %}

                <div class="show-actions">
                    {% if bag.status.name == 'disponible' and app.user != bag.owner %}
                    <a href="{{ path('app_bag_request', {'id': bag.id}) }}" class="btn-action btn-primary">Demande d'emprunt</a>
                    {% endif %}
                    {# <a href="{{ path('app_bag_edit', {'id': bag.id}) }}" class="btn-action btn-primary">Modifier</a> #}
                    <a href="{{ path('app_bag_index') }}" class="btn-action btn-secondary">Retour à la liste</a>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}